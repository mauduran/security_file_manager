{"version":3,"sources":["components/Navigation/Navigation.js","components/Home/FileComponent/FileComponent.js","components/Message.js","containers/Home/Home.js","containers/Login/Login.js","containers/Register/Register.js","components/Progress.js","components/Upload/FileUpload/FileUpload.js","containers/Upload/Upload.jsx","App.js","index.js"],"names":["Navigation","setisLogged","isLogged","currentUser","id","exact","to","activeClassName","onClick","localStorage","removeItem","style","cursor","FileComponent","fileName","setmessage","className","fetch","then","res","blob","download","catch","err","alert","href","type","json","data","Message","message","role","data-dismiss","aria-label","aria-hidden","Home","useState","files","setfiles","useEffect","axios","get","filesRes","width","margin","map","el","key","Login","setcurrentUser","username","setusername","password","setpassword","twoFactorAuth","settwoFactorAuth","twoFactorCode","settwoFactorCode","submitForm","e","a","preventDefault","post","response","verifyTwoFactor","token","setItem","value","onChange","target","placeholder","onSubmit","method","required","Register","name","setname","confirmPassword","setconfirmPassword","qr","setqr","console","log","src","alt","Progress","percentage","aria-valuenow","aria-valuemin","aria-valuemax","FileUpload","file","setFile","setfileName","uploadPercentage","setuploadPercentage","formData","FormData","append","headers","onUploadProgress","progressEvent","parseInt","Math","round","loaded","total","setTimeout","status","msg","htmlFor","Upload","App","usr","getItem","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.59f081e6.chunk.js","sourcesContent":["import React from 'react';\nimport {\n    NavLink\n} from \"react-router-dom\";\nimport './navigation.css';\n\nconst Navigation = ({ setisLogged, isLogged, currentUser }) => {\n    const Logout = () => {\n        setisLogged(false);\n        localStorage.removeItem('user');\n    }\n    return (\n        <nav id=\"navbar\">\n            <h1 id=\"nav-title\">TLS Website</h1>\n            <ul>\n                <NavLink exact to='/' activeClassName=\"selected\">\n                    <li>\n                        <p>Home</p>\n                    </li>\n                </NavLink>\n                <NavLink to='/login' activeClassName=\"selected\">\n                    <li>\n                        <p>Login</p>\n                    </li>\n                </NavLink>\n                <NavLink to='/register' activeClassName=\"selected\">\n                    <li>\n                        <p>Register</p>\n                    </li>\n                </NavLink>\n                <NavLink to='/upload' activeClassName=\"selected\">\n                    <li>\n                        <p>Upload</p>\n                    </li>\n                </NavLink>\n            </ul>\n            {(isLogged) && <>\n                <p>Logged in as {currentUser}</p>\n                <p onClick={Logout} style={{cursor: 'pointer'}}>Logout</p>\n            </>}\n\n        </nav>\n    )\n};\n\nexport default Navigation;","import React from 'react';\nimport download from \"downloadjs\";\nimport './fileComponent.css';\n\nconst FileComponent = ({ fileName, setmessage }) => {\n\n    const DownloadFile = () => {\n        fetch(`/download/${fileName}`)\n            .then(res => res.blob())\n            .then(blob => {\n                download(blob, fileName);\n            })\n            .catch(err => alert(err));\n    }\n\n    const VerifyFile = () => {\n        fetch(`/verify/${fileName}`)\n            .then(res => res.json())\n            .then(data => {\n                if (data) {\n                    setmessage(`${fileName} verified successfully!`)\n                } else {\n                    setmessage(`${fileName} is not verified!`)\n                }\n            })\n            .catch(err => setmessage(`Could not verify ${fileName}`));\n    }\n\n    return (\n            <div className='file-box'>\n                <i className=\"fas fa-file-alt\" onClick={DownloadFile}></i>\n                <p>{fileName}</p>\n                <a href={`/signatures/${fileName}`}>Check signature.</a>\n                <button type=\"button\" className=\"btn btn-primary pl-4 pr-4 mt-2\" onClick={VerifyFile}>Verify</button>\n            </div>\n    )\n}\n\nexport default FileComponent;\n","import React from 'react'\n\n\nconst Message = ({ message, onClick }) => {\n    return (\n        <div className=\"alert alert-info alert-dismissible fade show\" role=\"alert\">\n            {message}\n            <button type=\"button\" className=\"close\" data-dismiss=\"alert\" onClick={onClick} aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n            </button>\n        </div>\n    )\n}\n\n\nexport default Message;\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios';\nimport FileComponent from '../../components/Home/FileComponent/FileComponent';\nimport Message from '../../components/Message';\nimport './home.css';\n\nexport default function Home() {\n    const [files, setfiles] = useState([]);\n    const [message, setmessage] = useState('')\n\n    useEffect(() => {\n        axios.get('/files').then(filesRes => {\n            setfiles(filesRes.data);\n        })\n    }, []);\n\n    return (\n        <div className='mt-4' style={{width: '90%', margin: \"0 auto\"}}>\n            {message && <Message message={message} />}\n            <h1 className='m-4'>Existing Files</h1>\n            { (files) ?\n                <div className='file-container'>\n                    {files.map(el => <FileComponent key={el} fileName={el} setmessage={setmessage} />)}\n                </div> : <h2>Empty directory</h2>\n            }\n        </div>\n    )\n}\n","import React, { useState } from 'react';\nimport axios from 'axios';\nimport './login.css';\nimport Message from '../../components/Message';\n\nexport default function Login({ setisLogged, setcurrentUser }) {\n\n    const [username, setusername] = useState('');\n    const [password, setpassword] = useState('');\n    const [message, setmessage] = useState('');\n    const [twoFactorAuth, settwoFactorAuth] = useState(false);\n    const [twoFactorCode, settwoFactorCode] = useState('');\n\n    const submitForm = async e => {\n        e.preventDefault();\n        if (!username || !password) {\n            setmessage('Missing Fields');\n        }\n\n        try {\n            const res = await axios.post('/login', {\n                username,\n                password\n            })\n            settwoFactorAuth(true);\n            setusername(res.data.username);\n        } catch (error) {\n            setmessage(error.response.data);\n        }\n    }\n\n    const verifyTwoFactor = async () => {\n        if (!twoFactorCode) return;\n\n        try {\n            const res = await axios.post('/login/verify', {\n                username: username,\n                token: twoFactorCode\n            })\n            localStorage.setItem('user', username);\n            setmessage(res.data.message);\n            setcurrentUser(username);\n            settwoFactorAuth(false);\n            setisLogged(true);\n        } catch (error) {\n            setmessage(error.response.data);\n        }\n    }\n    return (\n        <div className=\"container mt-5\">\n            {message && <Message message={message} onClick={() => setmessage('')} />}\n\n            {(twoFactorAuth) ?\n                (\n                    <>\n                        <div className=\"form-group \">\n                            <input\n                                type=\"text\"\n                                className=\"form-control\"\n                                value={twoFactorCode}\n                                onChange={(e) => settwoFactorCode(e.target.value)}\n                                placeholder=\"Two Factor Auth code\"\n                            />\n                        </div>\n\n                        <div className=\"form-group\">\n                            <button className=\"btn btn-primary\" onClick={verifyTwoFactor}>Verify Code</button>\n                        </div>\n                    </>\n                )\n                :\n                (<div className=\"login-container\">\n                    <form onSubmit={submitForm} className=\"login-form\" method=\"post\">\n                        <h2 className=\"text-center mb-4\">Log In</h2>\n                        <div className=\"form-group \">\n                            <input\n                                type=\"text\"\n                                className=\"form-control\"\n                                value={username}\n                                onChange={(e) => setusername(e.target.value)}\n                                placeholder=\"Username\"\n                                required=\"required\" />\n                        </div>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"password\"\n                                onChange={(e) => setpassword(e.target.value)}\n                                value={password}\n                                className=\"form-control\"\n                                placeholder=\"Password\"\n                                required=\"required\" />\n                        </div>\n                        <div className=\"form-group\">\n                            <button type=\"submit\" className=\"btn btn-primary btn-block\">Log in</button>\n                        </div>\n                    </form>\n\n                </div>)}\n        </div>\n    )\n}\n","import React, { useState } from 'react';\nimport Message from '../../components/Message';\nimport axios from 'axios';\n\nimport './register.css';\n\nexport default function Register() {\n\n    const [name, setname] = useState('');\n    const [username, setusername] = useState('');\n    const [password, setpassword] = useState('');\n    const [confirmPassword, setconfirmPassword] = useState('');\n    const [message, setmessage] = useState('');\n    const [qr, setqr] = useState('');\n\n    const submitForm = async e => {\n        e.preventDefault();\n        if (!name || !username || !password || !confirmPassword) {\n            setmessage('Missing Fields');\n        }\n        if (password !== confirmPassword) {\n            setmessage('Passwords do not match');\n        }\n\n        try {\n            const res = await axios.post('/register', {\n                name,\n                username,\n                password\n            })\n            console.log(res.data);\n            setmessage(res.data.message);\n            setqr(res.data.qr);\n        } catch (error) {\n            setmessage(error.response.data);\n        }\n    }\n\n    return (\n        <div className='container mt-3'>\n            {message && <Message message={message} onClick={() => setmessage('')} />}\n\n            {qr ?\n                (\n                    <>\n                        <h1>Scan qr in google authenticator</h1>\n                        <img src={qr} style={{ margin: '0 auto' }} alt=\"qrcode\" />\n                    </>\n                ) :\n                (<div className=\"register-container mt-5\">\n                    <div className=\"login-form\">\n                        <form onSubmit={submitForm}>\n                            <h2 className=\"text-center mb-4\">Register</h2>\n                            <div className=\"form-group \">\n                                <input type=\"text\" className=\"form-control\" placeholder=\"Name\" value={name} onChange={e => setname(e.target.value)} required=\"required\" />\n                            </div>\n                            <div className=\"form-group \">\n                                <input type=\"text\" className=\"form-control\" placeholder=\"Username\" value={username} onChange={e => setusername(e.target.value)} required=\"required\" />\n                            </div>\n                            <div className=\"form-group\">\n                                <input type=\"password\" className=\"form-control\" placeholder=\"Password\" value={password} onChange={e => setpassword(e.target.value)} required=\"required\" />\n                            </div>\n                            <div className=\"form-group\">\n                                <input type=\"password\" className=\"form-control\" placeholder=\"Confirm password\" value={confirmPassword} onChange={e => setconfirmPassword(e.target.value)} required=\"required\" />\n                            </div>\n                            <div className=\"form-group\">\n                                <button type=\"submit\" className=\"btn btn-primary btn-block\">Sign Up</button>\n                            </div>\n                        </form>\n                    </div>\n                </div>)}\n        </div>\n    )\n}\n","import React from 'react'\n\nexport const Progress = ({ percentage }) => {\n    return (\n        <div className=\"progress\">\n            <div className=\"progress-bar progress-bar-striped bg-success\"\n                role=\"progressbar\"\n                style={{width: `${percentage}%`}}\n                aria-valuenow={percentage}\n                aria-valuemin=\"0\"\n                aria-valuemax=\"100\">\n                    {percentage}%\n            </div>\n        </div>\n    )\n}\n","import React, { Fragment, useState } from 'react'\n\nimport axios from 'axios';\nimport Message from '../../Message';\nimport { Progress } from '../../Progress';\n\nexport const FileUpload = () => {\n    const [file, setFile] = useState('');\n    const [fileName, setfileName] = useState('Choose File');\n    const [uploadPercentage, setuploadPercentage] = useState(0);\n    const [message, setmessage] = useState('');\n    const onChange = async e => {\n        if (!e.target.files[0]) {\n            setmessage(\"No File Added.\")\n        }\n        setFile(e.target.files[0]);\n        setfileName(e.target.files[0].name);\n\n    }\n\n    const onSubmit = async e => {\n        e.preventDefault();\n        const formData = new FormData();\n        formData.append('file', file);\n\n        try {\n            await axios.post('/upload', formData, {\n                headers: {\n                    'Content-Type': 'multipart/form-data'\n                },\n                onUploadProgress: progressEvent => {\n                    setuploadPercentage(parseInt(Math.round(progressEvent.loaded * 100 / progressEvent.total)))\n                }\n            });\n            setTimeout(() => setuploadPercentage(0), 10000);\n            setmessage('File Uploaded!');\n        } catch (error) {\n            if (error.response.status === 500) {\n                setmessage(\"There was a problem with the server\");\n            } else {\n                setmessage(error.response.data.msg)\n            }\n        }\n    }\n\n    return (\n        <Fragment>\n            {message && <Message message={message} onClick={()=>setmessage('')} />}\n            <form onSubmit={onSubmit}>\n                <div className=\"custom-file mt-4 mb-4\">\n                    <input type=\"file\" className=\"custom-file-input\" id=\"customFile\" onChange={onChange} />\n                    <label className=\"custom-file-label\" htmlFor=\"customFile\">{fileName}</label>\n                </div>\n                <Progress percentage={uploadPercentage}/>\n                <input type=\"submit\" value=\"upload\" className=\"btn btn-primary btn-block mt-4\" />\n            </form>\n\n        </Fragment>\n    )\n}\n","import React from 'react'\nimport { FileUpload } from '../../components/Upload/FileUpload/FileUpload'\n\nexport default function Upload() {\n    return (\n        <div className=\"container mt-4\">\n            <h1>Upload file</h1>\n            <FileUpload/>\n        </div>\n    )\n}\n","import React, { useState, useEffect } from 'react';\n\nimport Navigation from './components/Navigation/Navigation';\nimport Home from './containers/Home/Home';\nimport Login from './containers/Login/Login';\nimport Register from './containers/Register/Register';\n\nimport { BrowserRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";\nimport Upload from './containers/Upload/Upload';\n\nfunction App() {\n  const [isLogged, setisLogged] = useState(false);\n  const [currentUser, setcurrentUser] = useState(null);\n\n  useEffect(() => {\n    let usr = localStorage.getItem('user');\n    if (usr) {\n      setisLogged(true);\n      setcurrentUser(usr);\n    }\n  }, [])\n  return (\n    <div className=\"App\">\n      <Router>\n        <Navigation currentUser={currentUser} isLogged={isLogged} setisLogged={setisLogged} />\n        <Switch>\n\n          <Route exact path=\"/\">\n            {isLogged ? <Home /> : <Redirect to=\"/login\" />}\n          </Route>\n\n          <Route exact path=\"/login\">\n            {isLogged ? <Redirect to=\"/\" /> : <Login setisLogged={setisLogged} setcurrentUser={setcurrentUser} />}\n          </Route>\n\n          <Route path=\"/register\">\n            {isLogged ? <Redirect to=\"/\" /> : <Register />}\n          </Route>\n\n          <Route path=\"/upload\">\n            {isLogged ? <Upload /> : <Redirect to=\"/login\" />}\n\n          </Route>\n\n        </Switch>\n\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}